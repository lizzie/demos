<script src="<%= config.assetsRoot %>libs/seajs/1.2.0/sea.js"></script>
<script>
    seajs.config({
        base:"<%= config.assetsRoot %>",
        alias:{
            "$":"libs/jquery/1.8.1/jquery",
            "jquery":"libs/jquery/1.8.1/jquery",
            "jquery.ui":"libs/jquery.ui/1.8.23/jquery.ui",
            "uploadify":"libs/uploadify/jquery.uploadify",
            "uploadify_css":"libs/uploadify/uploadify.css",
            "underscore":"libs/underscore/1.3.3/underscore",
            "backbone":"libs/backbone/0.9.9/backbone",
            "bootstrap":"libs/bootstrap/2.2.2/bootstrap",
            "mustache":"libs/mustache/0.5.0/mustache",

            "config":"config",

            "ad":"common/ad",
            "loader":"common/loader",
            "google":"common/google",
            "baidu":"common/baidu",
            "gaode":"common/gaode",
            "message":"common/message",
            "loading":"common/loading",
            "auth":"common/auth",
            "info_tpl":"common/tpl",

            "viewer":"viewer/index",
            "viewer_google":"viewer/google",
            "viewer_baidu":"viewer/baidu",
            "viewer_gaode":"viewer/gaode"
        }
    });

    <%
    if (config.debug) { %>

        seajs.config({
            alias:{
                "dashboard":"dashboard/index",
                "capture":"capture/index",
                "publish":"publish/publish",
                "about":"about/index",
                "tg":"tg/index"
            }
        });

    <%
    } else { %>

        seajs.config({
            alias:{
                "dashboard":"dashboard",
                "capture":"capture",
                "publish":"publish",
                "about":"about",
                "tg":"tg"
            },
            map:[
                [/^(.*\/(common|viewer)\/.*?)([^\/]*\.js)$/i, '$1$3?t=20130511.js'],
                [/((config|capture|dashboard|publish|about)\.js)$/i, '$1?t=20130511.js']
            ]
        });
    <%
    }
    %>
</script>